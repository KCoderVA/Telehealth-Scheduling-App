DeskSelect As screen:
    Fill: =Dashboard.Fill
    Height: =Max(App.Height, App.DesignHeight)
    OnVisible: |-
        =UpdateContext({showMap:false})
    Width: =Max(App.Width, App.DesignWidth)

    lblSelectDesk As label:
        Align: =Align.Center
        Color: =RGBA(255, 255, 255, 1)
        FontWeight: =FontWeight.Bold
        Height: =110
        Size: =32
        Text: ="Select a Desk"
        Width: =640
        ZIndex: =3

    bgRounded_2 As htmlViewer:
        Height: =788
        HtmlText: |
            =If(varTheme="Dark",
            "<div style='border-radius:10%;height:770px;width:100%;background-color:#1D1F23'></div>",
            "<div style='border-radius:10%;height:770px;width:100%;background-color:#FCFCFC'></div>")
        Width: =610
        X: =15
        Y: =110
        ZIndex: =4

    "galleryAvailDesk As gallery.'BrowseLayout_Vertical_OneTextVariant_ver4.0'":
        '#CopilotOverlayLabel': ="Filtered"
        AccessibleLabel: ="Available Desks"
        Height: =613
        Items: |-
            =Filter(
                Sort(col_Desks,Title),
                Not(
                    Title in col_Reservations.DeskText
                ) && (RoomActive_text = "true" || RoomActive_text = "True")  && Or(DeskSearchFilter.Text in Title , DeskSearchFilter.Text in Description)
            )
            // 'CheckOutFrom_DateTime' >= startTime && 'CheckOutTo_DateTime' <= endTime || 'CheckOutFrom_DateTime' <= endTime && 'CheckOutTo_DateTime' >= endTime
            /*
            Filter(
                col_Desks,
                Not(
                    Title in col_Reservations.DeskText
                ) && Active = 1
            )
            */
        Layout: =Layout.Vertical
        TabIndex: =2
        TemplatePadding: =0
        TemplateSize: =107
        Width: =573
        X: =33
        Y: =234
        ZIndex: =5

        Title4 As label:
            Color: =If(varTheme="Dark",Color.White, RGBA(0, 0, 0, 1))
            Height: =41
            OnSelect: |-
                =Select(Parent);UpdateContext({showMap:!showMap})
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Text: =ThisItem.Title 
            Underline: =true
            VerticalAlign: =VerticalAlign.Top
            Width: =300
            X: =12
            Y: =13
            ZIndex: =1

        Separator4 As rectangle:
            Fill: =RGBA(135, 78, 181, 1)
            Height: =1
            OnSelect: =Select(Parent)
            Width: =Parent.TemplateWidth
            Y: =Parent.TemplateHeight - 1
            ZIndex: =3

        cbDeskSelect As checkbox:
            CheckboxBorderColor: =RGBA(135, 78, 181, 1)
            DisplayMode: |-
                =Switch(
                    varAllowMultipleDeskSelections,
                    false,
                    If(
                        IsEmpty(selectedDesks) || !IsBlank(LookUp(selectedDesks,ID = ThisItem.ID)),
                        DisplayMode.Edit,
                        DisplayMode.View
                    ),
                    true,
                    DisplayMode.Edit
                )
            Height: =60
            OnCheck: =Collect(selectedDesks,ThisItem); //Set(selectedDesk,ThisItem);
            OnSelect: =Select(Parent)
            OnUncheck: =Remove(selectedDesks, ThisItem) //Set(selectedDesk,Blank())
            Reset: =resetcheckbox
            Size: =21
            Text: =""
            Width: =60
            X: =472
            Y: =13
            ZIndex: =4

        Title4_1 As label:
            Color: =If(varTheme="Dark",Color.White, RGBA(0, 0, 0, 1))
            FontWeight: =FontWeight.Lighter
            Height: =41
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =14
            Text: =ThisItem.Description
            VerticalAlign: =VerticalAlign.Top
            Width: =447
            X: =12
            Y: =54
            ZIndex: =5

    lblDateDesk As label:
        Align: =Align.Center
        Color: =If(varTheme="Dark",Color.White, RGBA(0, 0, 0, 1))
        Height: =49
        Size: =16
        Text: =startTime & " - " & endTime //DateTimeValue(Text(selectedDate,DateTimeFormat.ShortDate)&" "&ddTimeFrom.Selected.Value)&" - "&DateTimeValue(Text(selectedEndDate,DateTimeFormat.ShortDate)&" "&ddTimeTo.Selected.Value)
        Width: =560
        X: =46
        Y: =121
        ZIndex: =8

    grpNoResults As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =8

        Label5 As label:
            Align: =Align.Center
            Height: =70
            Size: =21
            Text: ="Uh oh, no openings found!"
            Visible: =If(CountRows(galleryAvailDesk.AllItems) >= 1, false, true)
            Width: =560
            X: =40
            Y: =446
            ZIndex: =6

        Label5_1 As label:
            Align: =Align.Center
            Height: =70
            Size: =21
            Text: ="Try selecting another date"
            Visible: =If(CountRows(galleryAvailDesk.AllItems) >= 1, false, true)
            Width: =560
            X: =40
            Y: =506
            ZIndex: =7

    Tabs_4 As Tabs:
        FontColor: =If(varTheme="Dark",Color.White, RGBA(0, 0, 0, 1))
        IconColor: |-
            =ColorValue("#874EB5")
        Items: |-
            =Table(
                {
                    Name: "Home",
                    Icon: Icon.DetailList,
                    Page: Dashboard,        
                    Visible:true
                },
                {
                    Name: "Bookings",
                    Icon: Icon.Person,
                    Page: MyAppts,
                    Visible:true
                },
                {
                    Name: "Book",
                    Icon: Icon.Add,
                    Page: NewBooking,
                    Visible:true
                },
                {
                    Name: "Manage",
                    Icon: Icon.ComputerDesktop,
                    Page: ManageDesks,
                    Visible:varAdmin
                }
            )
        Y: =1016
        ZIndex: =11

    grpHeader_1 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =20
        ZIndex: =13

        Image2_2 As image:
            Height: =150
            Image: =abstractBackground
            ImagePosition: =ImagePosition.Fill
            Width: =640
            ZIndex: =1

        Rectangle2_1 As rectangle:
            Fill: =RGBA(135, 78, 181, 0.65)
            Height: =150
            Width: =640
            ZIndex: =2

    DeskSearchFilter As text:
        BorderColor: =RGBA(135, 78, 181, 1)
        Color: =If(varTheme = "Dark",Color.White, RGBA(0, 0, 0, 1))
        Default: =""
        Fill: |-
            =If(varTheme="Dark",ColorValue("#2A2B33"), RGBA(255, 255, 255, 1))
        Height: =43
        HoverFill: =Self.Fill
        Size: =21
        Tooltip: ="Start typing the name of the location"
        Width: =493
        X: =67
        Y: =179
        ZIndex: =15

    grpMap As group:
        Height: =5
        Width: =5
        X: =60
        Y: =60
        ZIndex: =15

        Rectangle3 As rectangle:
            AccessibleLabel: ="Close Map"
            Fill: =RGBA(116, 116, 116, 0.85)
            Height: =1136
            Visible: =showMap
            Width: =640
            ZIndex: =12

        Image5 As image:
            AccessibleLabel: ="Close Map"
            Height: =500
            Image: =galleryAvailDesk.Selected.Map_Image.Large
            ImagePosition: =ImagePosition.Fill
            Visible: =showMap
            Width: =609
            X: =21
            Y: =254
            ZIndex: =13

        Icon1 As icon.Cancel:
            AccessibleLabel: ="Close Map"
            Color: =RGBA(255, 255, 255, 1)
            Icon: =Icon.Cancel
            OnSelect: |-
                =UpdateContext({showMap:!showMap})
            TabIndex: =5
            Visible: =showMap
            X: =560
            Y: =170
            ZIndex: =14

    DeskSearchIcon As icon.Search:
        Color: =RGBA(135, 78, 181, 1)
        Height: =DeskSearchFilter.Height
        Icon: =Icon.Search
        Width: =DeskSearchFilter.Height
        X: =517
        Y: =178
        ZIndex: =16

    Arrow1_1 As arrow.backArrow:
        Fill: =RGBA(255, 255, 255, 1)
        Height: =60
        OnSelect: |-
            =Reset(galleryAvailDesk);
            Back();
        Width: =60
        X: =22
        Y: =29
        ZIndex: =17

    Button1_5 As button:
        Fill: =RGBA(135, 78, 181, 1)
        Height: =61
        HoverFill: =ColorFade(Self.Fill, -20%)
        OnSelect: =If(IsEmpty(selectedDesks), Notify("Please select a desk to continue",NotificationType.Warning), Navigate(NewBooking))
        RadiusBottomLeft: =60
        RadiusBottomRight: =60
        RadiusTopLeft: =60
        RadiusTopRight: =60
        Size: =21
        Text: ="CONTINUE"
        Width: =450
        X: =95
        Y: =926
        ZIndex: =18

