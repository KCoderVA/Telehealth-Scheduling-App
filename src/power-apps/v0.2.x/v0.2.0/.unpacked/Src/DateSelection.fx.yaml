DateSelection As screen:
    Fill: =Dashboard.Fill
    Height: =Max(App.Height, App.DesignHeight)
    OnVisible: |
        =Set(resetcheckbox, true);
        Set(resetcheckbox, false);
    Width: =Max(App.Width, App.DesignWidth)

    bgRounded_1 As htmlViewer:
        Height: =635
        HtmlText: |-
            ="<div style='border-radius:10%;border-top-left-radius:10%;height:600px;width:100%;background-color:#FCFCFC'></div>"
        Width: =618
        X: =10
        Y: =118
        ZIndex: =3

    Calendar_1 As Calendar:
        BorderRadius: =1
        DaysAheadRestriction: =60
        Height: =539
        SelectedDateFill: =RGBA(135, 78, 181, 1)
        SelectRange: =false
        Width: =593
        X: =22
        Y: =138
        ZIndex: =4

    lblSelectDate As label:
        Align: =Align.Center
        Color: =RGBA(255, 255, 255, 1)
        FontWeight: =FontWeight.Bold
        Height: =118
        Size: =32
        Text: ="Select a Date"
        Width: =640
        ZIndex: =7

    lblSelectTimeSlot As label:
        Align: =Align.Center
        Color: =If(varTheme="Dark",Color.White, RGBA(0, 0, 0, 1))
        Height: =70
        Size: =24
        Text: ="Select a Time Slot"
        Width: =640
        Y: =736
        ZIndex: =8

    ddTimeFrom As dropdown:
        AccessibleLabel: ="Start Time"
        BorderColor: =RGBA(135, 78, 181, 1)
        BorderThickness: =1
        ChevronBackground: |-
            =ColorValue("#874EB5")
        ChevronFill: =Color.White
        ChevronHoverBackground: |-
            =ColorValue("#874EB5")
        Color: =If(varTheme = "Dark",Color.White, RGBA(0, 0, 0, 1))
        Default: |-
            ="9:00 AM"
        Fill: |-
            =If(varTheme="Dark",ColorValue("#2A2B33"), RGBA(255, 255, 255, 1))
        Height: =66
        HoverFill: =Color.LightGray
        Items: |-
            =With(
                {Interval: 15},
                ForAll(
                    Sequence(60 * 24 / Interval),
                    Time(
                        0,
                        Interval * (Value - 1),
                        0
                    )
                )
            )
        Size: =21
        Width: =190
        X: =63
        Y: =813
        ZIndex: =9

    lblTo As label:
        Align: =Align.Center
        Height: =66
        Size: =21
        Text: ="to"
        Width: =80
        X: =259
        Y: =813
        ZIndex: =10

    ddTimeTo As dropdown:
        AccessibleLabel: ="End Time"
        BorderColor: =RGBA(135, 78, 181, 1)
        BorderThickness: =1
        ChevronBackground: |-
            =ColorValue("#874EB5")
        ChevronFill: =Color.White
        ChevronHoverBackground: |-
            =ColorValue("#874EB5")
        Color: =If(varTheme = "Dark",Color.White, RGBA(0, 0, 0, 1))
        Default: |-
            ="10:00 AM"
        Fill: |-
            =If(varTheme="Dark",ColorValue("#2A2B33"), RGBA(255, 255, 255, 1))
        Height: =66
        HoverFill: =Color.LightGray
        Items: |
            =With({Interval: 15}, ForAll(Sequence(60*24/Interval), Time(0,Interval*(Value-1),0)))
            
            //With({Interval: 15}, ForAll(Sequence(60*24/Interval), Time(0,Interval*(Value-1),0)))
            //ddTimeFrom.SelectedText.Value
        Size: =21
        Width: =190
        X: =347
        Y: =813
        ZIndex: =11

    Tabs_5 As Tabs:
        FontColor: =If(varTheme="Dark",Color.White, RGBA(0, 0, 0, 1))
        IconColor: |-
            =ColorValue("#874EB5")
        Items: |-
            =Table(
                {
                    Name: "Home",
                    Icon: Icon.DetailList,
                    Page: Dashboard,        
                    Visible:true
                },
                {
                    Name: "Bookings",
                    Icon: Icon.Person,
                    Page: MyAppts,
                    Visible:true
                },
                {
                    Name: "Book",
                    Icon: Icon.Add,
                    Page: NewBooking,
                    Visible:true
                },
                {
                    Name: "Manage",
                    Icon: Icon.ComputerDesktop,
                    Page: ManageDesks,
                    Visible:varAdmin
                }
            )
        Y: =1016
        ZIndex: =12

    Arrow1 As arrow.backArrow:
        Fill: =RGBA(255, 255, 255, 1)
        Height: =60
        OnSelect: |-
            =Reset(Calendar_1);
            Reset(ddTimeTo);  
            Reset(ddTimeFrom);
            Back();
        Width: =60
        X: =22
        Y: =29
        ZIndex: =13

    grpHeader As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =13

        Image2_1 As image:
            Height: =150
            Image: =abstractBackground
            ImagePosition: =ImagePosition.Fill
            Width: =640
            ZIndex: =1

        Rectangle2 As rectangle:
            Fill: =RGBA(135, 78, 181, 0.65)
            Height: =150
            Width: =640
            ZIndex: =2

    Button1_4 As button:
        Fill: =RGBA(135, 78, 181, 1)
        Height: =61
        HoverFill: =ColorFade(Self.Fill, -20%)
        OnSelect: |-
            =Set(
                selectedDate,
                Calendar_1.StartDate
            );
            Set(
                selectedEndDate,
                Calendar_1.EndDate
            );
            Set(
                startTime,
                DateTimeValue(
                    Text(
                        selectedDate,
                        DateTimeFormat.ShortDate
                    ) & " " & ddTimeFrom.Selected.Value
                )
            );
            Set(
                endTime,
                If(
                    DateValue(
                        Text(
                            selectedEndDate,
                            DateTimeFormat.ShortDate
                        )
                    ) < DateValue(
                        Text(
                            selectedDate,
                            DateTimeFormat.ShortDate
                        )
                    ),
                    DateTimeValue(
                        Text(
                            selectedDate,
                            DateTimeFormat.ShortDate
                        ) & " " & ddTimeTo.Selected.Value
                    ),
                    DateTimeValue(
                        Text(
                            selectedEndDate,
                            DateTimeFormat.ShortDate
                        ) & " " & ddTimeTo.Selected.Value
                    )
                )
            );
            ClearCollect(
                col_Reservations,
                Filter(
                    List_DeskReservations,
                    Or(
                        And(
                            CheckOutFrom_DateTime >= startTime,
                            Or(
                                CheckOutTo_DateTime <= endTime,
                                CheckOutFrom_DateTime < endTime
                            )
                        ),
                        And(
                            CheckOutTo_DateTime > startTime,
                            Or(
                                CheckOutTo_DateTime <= endTime,
                                CheckOutFrom_DateTime < endTime
                            )
                        )
                    )
                )
            );
            Switch(
                Calendar_1.SelectRange,
                true,
                If(
                    false && false,
                    Notify(
                        "You must select a date and time to continue",
                        NotificationType.Warning
                    ),
                    Navigate(NewBooking)
                ),
                false,
                If(
                    false && false,
                    Notify(
                        "You must select a date and time to continue",
                        NotificationType.Warning
                    ),
                    endTime <= startTime,
                    Notify(
                        "End time can't be earlier than start time. Please correct to continue.",
                        NotificationType.Warning
                    ),
                    Navigate(NewBooking)
                )
            )
        RadiusBottomLeft: =60
        RadiusBottomRight: =60
        RadiusTopLeft: =60
        RadiusTopRight: =60
        Size: =21
        Text: ="CONTINUE"
        Width: =450
        X: =95
        Y: =917
        ZIndex: =14

